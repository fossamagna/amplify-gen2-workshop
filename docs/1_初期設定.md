# 初期設定

## 事前準備

### アカウント作成

本ワークショップは以下のアカウントが事前に作成されていること想定しています。

- AWS アカウント（Admin 相当）
- AWS ビルダー ID
- GitHub アカウント

アカウントがない場合は、作成してから続きをお願いします。

### 環境準備

本ワークショップは GitHub Codespaces 上で実行されることを想定しています。

別の環境を活用されたい方は、ご自身の判断でお願いします。

## インストール

### 設定済み

AWS CLI と Node.js は Dev Containers によりインストール済みです。

[Dev Containers とは？](https://docs.github.com/ja/codespaces/setting-up-your-project-for-codespaces/adding-a-dev-container-configuration/introduction-to-dev-containers)

設定が完了しているか、下記確認してください。

```shell
aws --version
# aws-cli/2.32.21 Python/3.13.11 Linux/6.10.14-linuxkit exe/aarch64.debian.12

node -v
# v24.12.0
```

### Kiro CLI

本ワークショップでは、Kiro CLI を利用します。

```shell
curl -fsSL https://cli.kiro.dev/install | bash
```

`🎉 Installation complete! Happy coding!`と表示されれば OK です。

### UV

Kiro CLI から[AWS MCP サーバー](https://docs.aws.amazon.com/aws-mcp/latest/userguide/what-is-mcp-server.html)を利用します。

そのために、UV コマンドを利用可能にしておきます。

```shell
curl -LsSf https://astral.sh/uv/install.sh | sh
```

`everything's installed!`と表示されれば OK です。

## ログイン

### AWS CLI

`aws login` コマンドを利用します。
詳細な情報は、[公式](https://docs.aws.amazon.com/ja_jp/signin/latest/userguide/command-line-sign-in.html#command-line-sign-in-local-development)をご覧ください。

まずは AWS マネージメントコンソールにサインインしておいてください。

> [!WARNING]
>
> `AmplifyBackendDeployFullAccess`権限ではエラーが発生する可能性があります。
>
> スムーズな進行のためには、Admin 相当権限でサインインすることをお勧めします。

リージョンはバージニア北部（us-east-1）に切り替えておいてください。

次に、CLI のログインを実行します。

```shell
aws login --remote
> AWS Region [us-east-1]: # そのままEnter

# URLが表示されるのでクリックし、verification code を取得する
# verification code を CLIに入力し認証を完了させる

# `Updated profile default to use arn:aws:iam::~ credentials.` と表示されれば OK です。

# ログイン完了を確認する
aws sts get-caller-identity
```

> [!WARNING]
>
> 本ワークショップにおいて、MFA 必須のアカウントでは aws login コマンドが利用できません。
>
> その場合は別の方法でクレデンシャルの設定を実施してください。

### Kiro CLI

Kiro CLI にログインします。

```shell
kiro-cli login --use-device-flow
❯ Use with Builder ID # Builder IDを選択する

# URLが表示されるのでクリックし、アクセスを許可する
```

`Logged in successfully` と表示されれば OK です。

## 初期設定完了の確認

```shell
kiro-cli
> Amplify 開発ではどのようなガイド付きワークフローが利用できますか?

# mpcサーバを利用して、「Amplify開発では、以下の3つの主要なガイド付きワークフローが利用できます」と回答してくれたらOK
```

ここまで確認できたら、次([docs/2\_アプリ作成.md](2_アプリ作成.md))に進んでください。
